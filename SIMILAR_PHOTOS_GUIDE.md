# 相似照片功能使用指南

## 🎯 功能概述

新的"相似照片"功能替代了原来的"重复照片"，提供更智能的照片相似度检测和批量删除功能，帮助您快速腾出存储空间。

## ✨ 主要特性

### 🔍 智能相似度检测
- **感知哈希算法**：基于图像内容而非文件哈希检测相似性
- **可调阈值**：70%-95%相似度阈值，满足不同需求
- **实时分析**：显示分析进度和状态信息

### 📸 智能分组类型
- **🔴 重复照片**：2张照片，相似度>95%
- **🟠 相似照片**：3-4张照片，相似度>85%
- **🔵 连拍照片**：5张+照片，时间间隔<5秒

### 🎯 智能推荐
- **质量排序**：按文件大小、分辨率、日期排序
- **智能选择**：自动选择删除质量较差的照片
- **保留最佳**：确保保留最清晰、最大的照片

## 🚀 使用方法

### 步骤1：进入相似照片页面
1. 在主界面点击"**相似照片**"卡片
2. 或者通过导航进入相似照片功能

### 步骤2：调整检测精度
- 使用**滑动条**调整相似度阈值
- **70%**：更宽松，发现更多相似照片
- **95%**：更严格，仅发现高度相似照片
- 调整后自动重新分析

### 步骤3：查看分析结果
- 查看**分组总览**：显示相似组数、可删除数量、节省空间
- 浏览**照片分组**：每组显示相似照片的缩略图
- 了解**分组类型**：通过颜色标签区分类型

### 步骤4：选择删除照片
有三种选择方式：

#### 🤖 智能选择（推荐）
- 点击"**智能选择**"按钮
- 系统自动保留质量最好的照片
- 选择其他照片进行删除

#### 👆 手动选择
- 直接点击照片缩略图
- 🟢绿色边框：建议保留的照片
- 🔴红色边框：选中删除的照片
- 💡提示：避免删除所有照片

#### 📋 批量操作
- "**全选**"：选择组内所有照片
- "**清空**"：取消所有选择

### 步骤5：确认删除
1. 查看**总删除数量**和**节省空间**
2. 点击"**删除选中的X张照片**"按钮
3. 确认删除对话框
4. 完成删除并查看结果

## 💡 使用技巧

### 🎯 最佳实践
1. **首次使用**：建议使用85%阈值进行分析
2. **连拍处理**：优先处理蓝色连拍分组
3. **质量对比**：注意查看照片下方的文件大小
4. **分批处理**：建议分批删除，避免误删

### ⚠️ 注意事项
1. **备份重要照片**：删除前确保有备份
2. **检查选择**：确认保留至少一张最好的照片
3. **网络环境**：建议在WiFi环境下进行分析
4. **电量充足**：分析过程较耗电，建议充电时操作

## 📊 界面元素说明

### 分组卡片
```
┌─────────────────────────────────────┐
│ [🔴重复照片] 5张照片 • 相似度92%    │ ← 分组标题和信息
│                                     │
│ [缩略图1] [缩略图2] [缩略图3] ...   │ ← 照片预览（可点击选择）
│                                     │
│ [智能选择] [全选] [清空]            │ ← 操作按钮
└─────────────────────────────────────┘
```

### 照片状态标识
- **🟢 绿色对勾**：推荐保留的最佳照片
- **🔴 删除图标**：选中删除的照片
- **📏 文件大小**：显示在照片底部

### 相似度阈值控制
```
相似度阈值: ●────●────●────● 85%
           70%  80%  90%  95%
```

## 🛠 高级功能

### 🔧 技术特性
- **感知哈希**：8x8像素灰度分析
- **汉明距离**：计算图像相似度
- **智能分组**：根据时间和相似度分类
- **内存优化**：缩略图按需加载

### 📈 性能优化
- **分批处理**：避免内存溢出
- **后台分析**：不阻塞用户界面
- **缓存机制**：提高响应速度
- **进度反馈**：实时显示分析状态

## 🔧 故障排除

### 常见问题

**Q：为什么没有发现相似照片？**
A：尝试降低相似度阈值到70-80%，或检查照片是否真的存在相似性。

**Q：分析速度很慢？**
A：大量照片需要时间分析，建议在WiFi和充电环境下操作。

**Q：误删了重要照片？**
A：检查系统"最近删除"文件夹，可能可以恢复。

**Q：相似度不准确？**
A：算法基于视觉相似性，对于内容差异较大但视觉相似的照片可能误判。

### 性能建议
- 定期清理相似照片，避免累积过多
- 在设备电量充足时进行分析
- 网络稳定环境下使用
- 分批处理大量照片

## 🎉 预期效果

使用相似照片功能后，您可以：
- **节省存储空间**：删除冗余照片
- **提高相册质量**：保留最佳照片
- **快速整理**：自动化相似照片处理
- **避免手动筛选**：智能推荐减少工作量

---

**💡 小贴士**：建议每周使用一次相似照片功能，保持相册整洁！